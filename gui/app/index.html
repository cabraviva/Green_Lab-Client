<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'">
    <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; script-src 'self'"> -->
    <script type="text/javascript" src="lib/query.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/greencoder001/zGET@latest/dist/bundle.js"></script>
    <title>Green_Lab Client</title>
    <script src="https://threejs.org/build/three.js"></script>
    <script type="text/javascript" src="lib/skin-view.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">
    <script src="https://greenlabclientparty.greencoder001.repl.co/socket.io/socket.io.js"></script>
    <script src="https://platform.twitter.com/widgets.js"></script>
    <style>.switch{position:relative;display:inline-block;width:60px;height:34px}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.slider:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;-webkit-transition:.4s;transition:.4s}input:checked+.slider{background-color:#64f496}input:focus+.slider{box-shadow:0 0 1px #64f496}input:checked+.slider:before{-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px)}.slider.round{border-radius:34px}.slider.round:before{border-radius:50%}</style>
  </head>
  <link rel="stylesheet" href="main.min.css">
  <body style="background-size:cover;">
    <div id="menu-bar">
     <div class="left" role="menu">
       <button onclick="win.getCurrentWindow().toggleDevTools()" class="menubar-btn" id="menu-btn" onclick="win.getCurrentWindow().toggleDevTools()"><i class="fas fa-terminal"></i></button>
       <h2>Green_Lab Client</h2>
     </div>
     <div class="right">
       <button class="menubar-btn" id="minimize-btn" onclick="win.minimizeWindow()"><i class="fas fa-window-minimize"></i></button>
       <button class="menubar-btn" id="max-unmax-btn" onclick="win.maxUnmaxWindow()"><i class="far fa-square"></i></button>
       <button class="menubar-btn" id="close-btn" onclick="if(runningVanilla===true){alert('You need to close Minecraft first!')}else{win.closeWindow()}"><i class="fas fa-times"></i></button>
     </div>
   </div>
   <div class="container">
     <nav>
       <account>
         <ul>
           <li class="flex __cursor_pointer__" onclick="opn('www.minecraft.net/profile')"><name set="name@innerHTML"></name></li>
           <li class="flex"><div class="coins"><i class="fas fa-coins" onclick="window.coinPopup()"></i> <b>NO_INTERNET</b></div></li>
           <li class="flex">
             <canvas id="skinView"></canvas>
           </li>
         </ul>
       </account>
       <ul class="_nav">
         <script type="text/javascript">
if (!require('fs').existsSync(require('path').join(__getAppData(), '.Green_Lab-Client-MC'))) require('fs').mkdirSync(require('path').join(__getAppData(), '.Green_Lab-Client-MC'))
if (!require('fs').existsSync(require('path').join(__getAppData(), '.Green_Lab-Client-MC', 'english-only.enabled'))) require('fs').writeFileSync((require('path').join(__getAppData(), '.Green_Lab-Client-MC', 'english-only.enabled')), 'false')

function __isWin () {
  return require('os').platform().toLowerCase().includes('win32')
}

function __getAppData () {
  if (!__isWin()) return require('os').userInfo().homedir
  return require('path').join(require('os').userInfo().homedir, require('path').join('AppData', 'Roaming'))
}

function __german () {
  if (require('fs').readFileSync(require('path').join(__getAppData(), '.Green_Lab-Client-MC', 'english-only.enabled')).toString('utf-8') === 'true') {
    return false
  }
  return $.lang.toLowerCase().includes('de')
}

window.__german = __german

/* global $ */
document.write(`
        <li onclick="loadPage('game')">Minecraft</li>
        <li onclick="loadPage('worlds')">${__german() ? 'Welten' : 'Worlds'}</li>
        <li onclick="loadPage('online')">GLC Online</li>
        <li onclick="loadPage('mods')">Mods</li>
        <li onclick="loadPage('packs')">Packs</li>
        <li onclick="loadPage('skins')">Skins</li>
        <li onclick="loadPage('guide')">Guide</li>
        <li onclick="loadPage('server')">Server</li>
        <li onclick="loadPage('games')">${__german() ? 'Spiele' : 'Games'}</li>
        <li onclick="loadPage('about')">${__german() ? 'Ãœber' : 'About'}</li>
`)
         </script>
       </ul>
     </nav>

     <main>

     </main>
   </div>

   <div id="view-blocker" style="width:100vw;overflow:hidden;height:100vh;position:fixed;top:0;left:0;z-index:10000;background:#2d2d2d;"></div>

   </body>
  <script src="./__main__.js"></script>
</html>
